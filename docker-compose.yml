services:
  app:
    image: oven/bun:1
    working_dir: /app
    entrypoint: sh -lc 'bun install --frozen-lockfile && exec "$0" "$@"'
    command: bun run dev -- --host 0.0.0.0 --port 5173
    environment:
      CHOKIDAR_USEPOLLING: "true"
    ports:
      - "5173:5173"
    volumes:
      - .:/app
      - bun_node_modules:/app/node_modules
      - bun_cache:/root/.bun/install/cache
    stdin_open: true
    tty: true

volumes:
  bun_node_modules:
  bun_cache:
